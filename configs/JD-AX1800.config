# 目标平台与架构（基础必需）
CONFIG_MODULES=y
CONFIG_HAVE_DOT_CONFIG=y
CONFIG_HOST_OS_LINUX=y
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq60xx=y
CONFIG_TARGET_qualcommax_ipq60xx_DEVICE_jdcloud_re-ss-01=y
CONFIG_HAS_SUBTARGETS=y
CONFIG_HAS_DEVICES=y
CONFIG_TARGET_BOARD="qualcommax"
CONFIG_TARGET_SUBTARGET="ipq60xx"
CONFIG_TARGET_PROFILE="DEVICE_jdcloud_re-ss-01"
CONFIG_TARGET_ARCH_PACKAGES="aarch64_cortex-a53"
CONFIG_DEFAULT_TARGET_OPTIMIZATION="-Os -pipe -mcpu=cortex-a53"
CONFIG_CPU_TYPE="cortex-a53"
CONFIG_LINUX_6_1=y
CONFIG_ARCH_64BIT=y
CONFIG_aarch64=y
CONFIG_ARCH="aarch64"


# 核心系统组件（基础运行必需）
CONFIG_DEFAULT_base-files=y
CONFIG_DEFAULT_busybox=y
CONFIG_DEFAULT_dropbear=y
CONFIG_DEFAULT_firewall=y
CONFIG_DEFAULT_netifd=y
CONFIG_DEFAULT_opkg=y
CONFIG_DEFAULT_procd=y
CONFIG_DEFAULT_procd-ujail=y
CONFIG_DEFAULT_uci=y
CONFIG_DEFAULT_libc=y
CONFIG_DEFAULT_libgcc=y
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_block-mount=y  # 硬盘挂载基础
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_firewall=y
CONFIG_PACKAGE_fstools=y  # 文件系统工具（支持挂载）
CONFIG_PACKAGE_logd=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_ubox=y
CONFIG_PACKAGE_ubus=y
CONFIG_PACKAGE_urngd=y


# IPV6支持（完整保留）
CONFIG_KERNEL_IPV6=y
CONFIG_KERNEL_IPV6_MULTIPLE_TABLES=y
CONFIG_IPV6=y
CONFIG_BUSYBOX_DEFAULT_FEATURE_IPV6=y
CONFIG_BUSYBOX_DEFAULT_PING6=y


# WIFI支持（目标设备无线功能）
CONFIG_DEFAULT_ath11k-firmware-ipq6018=y
CONFIG_DEFAULT_kmod-ath11k-ahb=y
CONFIG_DEFAULT_ipq-wifi-jdcloud_ax1800pro=y
CONFIG_PACKAGE_ath11k-firmware-ipq6018=y
CONFIG_PACKAGE_kmod-ath=y
CONFIG_ATH_USER_REGD=y
CONFIG_PACKAGE_kmod-ath11k=y
CONFIG_PACKAGE_kmod-ath11k-ahb=y
CONFIG_PACKAGE_kmod-cfg80211=y
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_MAC80211_MESH=y
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_wpad-openssl=y
CONFIG_DRIVER_11AC_SUPPORT=y  # 5G WiFi
CONFIG_DRIVER_11AX_SUPPORT=y  # WiFi 6
CONFIG_WPA_MBO_SUPPORT=y
CONFIG_WPA_MSG_MIN_PRIORITY=3


# PPPoE支持（拨号上网）
CONFIG_PACKAGE_kmod-ppp=y
CONFIG_PACKAGE_kmod-pppoe=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_NSS_DRV_PPPOE_ENABLE=y  # 硬件加速支持
CONFIG_PACKAGE_kmod-qca-nss-drv-pppoe=y


# USB支持（含硬盘挂载依赖）
CONFIG_GPIO_SUPPORT=y
CONFIG_USB_SUPPORT=y
CONFIG_kmod-usb-dwc3=y
CONFIG_kmod-usb-dwc3-qcom=y
CONFIG_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_kmod-gpio-button-hotplug=y  # USB设备热插拔支持


# 硬盘挂载（文件系统与工具）
CONFIG_DEFAULT_block-mount=y
CONFIG_DEFAULT_fstools=y
CONFIG_DEFAULT_kmod-fs-ext4=y
CONFIG_DEFAULT_e2fsprogs=y
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=1024
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_ubi-utils=y  # 存储工具
CONFIG_PACKAGE_losetup=y  # loop设备支持（挂载镜像）


# 常用APP（LuCI应用及工具）
# LuCI基础与中文
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-app-cpufreq=y
# CONFIG_PACKAGE_luci-app-ddns=n
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-vlmcsd=y
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-app-control-weburl=y
CONFIG_PACKAGE_luci-app-control-timewol=y
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-app-lucky=y
CONFIG_PACKAGE_luci-app-parentcontrol=y
CONFIG_PACKAGE_luci-app-usb-printer=y
CONFIG_PACKAGE_luci-app-homeproxy=y
CONFIG_PACKAGE_luci-app-oaf=y
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-ddns-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y
CONFIG_PACKAGE_luci-i18n-wol-zh-cn=y

# 系统工具类
CONFIG_PACKAGE_ddns-scripts=y
CONFIG_PACKAGE_ddns-scripts_aliyun=y
CONFIG_PACKAGE_ddns-scripts_dnspod=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_uclient-fetch=y  # 下载工具


# 1024MB内存支持（新增/强化配置）
CONFIG_KERNEL_SWAP=y  # 启用SWAP支持（内存不足时使用硬盘交换分区）
CONFIG_KERNEL_VM_SWAP=y  # 虚拟内存交换功能
CONFIG_DEFAULT_kmod-swap=y  # SWAP内核模块
CONFIG_PACKAGE_kmod-swap-utils=y  # SWAP管理工具（mkswap/swapon等）
CONFIG_BUSYBOX_DEFAULT_MKSWAP=y  # 支持创建交换分区
CONFIG_BUSYBOX_DEFAULT_SWAPON=y  # 支持启用交换分区
CONFIG_BUSYBOX_DEFAULT_SWAPOFF=y  # 支持关闭交换分区
# 内存管理优化（针对1GB内存调整）
CONFIG_KERNEL_SHMEM=y  # 共享内存支持
CONFIG_KERNEL_VMALLOC=y  # 虚拟内存分配支持
CONFIG_KERNEL_HIGHMEM=y  # 支持高位内存访问（64位系统优化）
CONFIG_KERNEL_MEMCG=y  # 内存控制组（限制进程内存占用）


# 常用依赖（库与内核功能）
# 内核核心
CONFIG_KERNEL_NAMESPACES=y
CONFIG_KERNEL_SECCOMP_FILTER=y
CONFIG_KERNEL_SECCOMP=y
CONFIG_KERNEL_STACKPROTECTOR=y
CONFIG_KERNEL_CC_STACKPROTECTOR_REGULAR=y

# 安全与编译
CONFIG_SIGNED_PACKAGES=y
CONFIG_SHADOW_PASSWORDS=y
CONFIG_USE_SSTRIP=y
CONFIG_PKG_CHECK_FORMAT_SECURITY=y
CONFIG_SECCOMP=y
CONFIG_EXTRA_OPTIMIZATION="-fno-caller-saves -fno-plt"
CONFIG_TARGET_OPTIMIZATION="-Os -pipe -mcpu=cortex-a53"

# 工具链
CONFIG_USE_MUSL=y
CONFIG_SSP_SUPPORT=y
CONFIG_BINUTILS_VERSION_2_40=y
CONFIG_GCC_VERSION="11.3.0"
CONFIG_LIBC="musl"

# 核心库
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_libopenssl=y
CONFIG_OPENSSL_WITH_TLS13=y
CONFIG_OPENSSL_WITH_CHACHA_POLY1305=y
CONFIG_PACKAGE_libubox=y
CONFIG_PACKAGE_libubus=y
CONFIG_PACKAGE_libuci=y
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_zlib=y
CONFIG_ZLIB_OPTIMIZE_SPEED=y

# 网络依赖
CONFIG_DEFAULT_dnsmasq-full=y
CONFIG_DEFAULT_ip-full=y
CONFIG_DEFAULT_iptables=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_dhcp=y
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y  # IPV6 DHCP
CONFIG_PACKAGE_iptables=y
CONFIG_PACKAGE_kmod-ipt-conntrack=y
CONFIG_PACKAGE_kmod-ipt-core=y
CONFIG_PACKAGE_kmod-nf-conntrack=y
CONFIG_PACKAGE_kmod-nf-ipt=y

# QCA硬件驱动（目标芯片必需）
CONFIG_PACKAGE_kmod-qca-nss-dp=y
CONFIG_PACKAGE_kmod-qca-nss-drv=y
CONFIG_NSS_DRV_BRIDGE_ENABLE=y
CONFIG_NSS_DRV_IPV6_ENABLE=y  # IPV6硬件加速
CONFIG_NSS_DRV_VLAN_ENABLE=y
CONFIG_PACKAGE_kmod-qca-nss-drv-bridge-mgr=y
CONFIG_PACKAGE_kmod-qca-ssdk=y


# Busybox核心工具（基础命令）
CONFIG_BUSYBOX_DEFAULT_HAVE_DOT_CONFIG=y
CONFIG_BUSYBOX_DEFAULT_LFS=y  # 大文件支持（硬盘必备）
CONFIG_BUSYBOX_DEFAULT_FEATURE_PIDFILE=y
CONFIG_BUSYBOX_DEFAULT_SH_IS_ASH=y
CONFIG_BUSYBOX_DEFAULT_ASH=y
CONFIG_BUSYBOX_DEFAULT_ASH_JOB_CONTROL=y
CONFIG_BUSYBOX_DEFAULT_GUNZIP=y
CONFIG_BUSYBOX_DEFAULT_GZIP=y
CONFIG_BUSYBOX_DEFAULT_CAT=y
CONFIG_BUSYBOX_DEFAULT_CHMOD=y
CONFIG_BUSYBOX_DEFAULT_CP=y
CONFIG_BUSYBOX_DEFAULT_MOUNT=y
CONFIG_BUSYBOX_DEFAULT_UMOUNT=y
CONFIG_BUSYBOX_DEFAULT_PING=y
CONFIG_BUSYBOX_DEFAULT_PS=y
CONFIG_BUSYBOX_DEFAULT_HALT=y
CONFIG_BUSYBOX_DEFAULT_REBOOT=y